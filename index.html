<!DOCTYPE html>
<html lang="sk">
<head>
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="root.css">
    <link rel="stylesheet" href="bootstrap.css">
    <meta charset="UTF-8">
    <title>Formular</title>
</head>
<body>

<div class="center conteiner">
    <div class="row">
        <div class="col-4 text_pole_2">           
            <input placeholder="Informacia  aku chcely by povedat" type="text_tu" tabindex="1">        
        </div>

    <div class="col-4">    
    <form id="forma"  method="post"  action="mailto:feistu01@gmail.com" enctype="multipart/form-data">
        <input type="hidden" name="apikey" value="b4d66fa7620d158ff6115c9a4e754b2b">

                <input type="hidden" name="from" value="xkukhelna@stuba.sk">
                <input type="hidden" name="sender" value="Tetiana Kukhelna">
                <input type="hidden" name="to" value="feistu01@gmail.com">
                <input type="hidden" name="subject" value="Tetiana Kukhelna">
                <input type="hidden" name="redirectOk" value="http://http://147.175.121.202/~xkukhelna/podarilo/index.html">
                <input type="hidden" name="redirectFalse" value="http://http://147.175.121.202/~xkukhelna/podarilo/index.html">

        <h3>Formular</h3>
        <h4>O kave</h4>
        <input type="hidden" name="Tetiana Kukhelna">
        <section>
            <fieldset>
                <span>&#9830;</span>
                <label for="inputMeno">Meno: </label><br>
                <input id="inputMeno" placeholder="Napriklad: Lejla" type="text" tabindex="1" required autofocus>
            </fieldset>
            <fieldset>
                <span>&#9830;</span>
                <label for="inputLastName">Priezvesko: </label><br>
                <input id="inputLastName" placeholder="Napriklad: Pilsudska" type="text" tabindex="1" required >
            </fieldset>
            <fieldset>
                <label for="vek">Vek: </label><br>
                <input id="vek" placeholder="Napriklad: 26" type="number"  tabindex="2">
            </fieldset>
            <fieldset>
                <span>&#9830;</span>
                <label for="inputDate">Datum narodenia:</label><br>
                <input id="inputDate" type="date" tabindex="3" required>
            </fieldset>
            <fieldset>
                <span>&#9830;</span>
                <label for="inputEmail">E-mail: </label><br>
                <input id="inputEmail" type="email"  placeholder="Napriklad: xxx@gmail.com" tabindex="5" pattern="^[a-z0-9._%+-]{3,}@[a-z]{1,}([.]{1}[a-z]{2,4}|[.]{1}[a-z]{2,}[.]{1}[a-z]{2,})$" required>
            </fieldset>
        </section>

        <section class="coffeeBlock">
            <p><b>Máte radi kávu?</b></p>
            <div>
                <input id="coffeeYes" name="coffeeQuestion" type="radio" value="yes">
                <label id="coffeeYesLabel" for="coffeeYes">Ano</label>
            </div><div>
                <input id="coffeeNo" name="coffeeQuestion" type="radio" value="no">
                <label id="coffeeNoLabel" for="coffeeNo">Nie</label>
            </div>
        </section>

        <section id="CoffeeNoBlock" class="BranchCoffee">
            <div class="text_pole">
                <fieldset>
                    <input id="anotherAnswer" placeholder="Napriklad:Čaj?" type="text" tabindex="1">
                </fieldset>
            </div>
        </section>

        <section id="CoffeeYesBlock" class="BranchCoffee">
            <div class="flex-vertical width-100">
                <h3 class="blockTitle">Druh Kavy</h3>
                <div>
                    <div class="flex-inline">
                        <label for="coffeeTypeArabika">Arabika</label>
                        <input id="coffeeTypeArabika" name="druh_kavy" type="checkbox" value="arabika">
                    </div>

                    <div class="flex-inline">
                        <label for="coffeeTypeRobusta">Robusta</label>
                        <input id="coffeeTypeRobusta" name="druh_kavy" type="checkbox" value="robusta">
                    </div>

                    <div class="flex-inline">
                        <label for="coffeeTypeIna">Ina</label>
                        <input id="coffeeTypeIna" name="druh_kavy" type="checkbox" value="ina">
                    </div>
                </div>
            </div>
        </section>

        <section id="CoffeeInaBlock" class="BranchCoffee">
            <div class="text_pole">
                <fieldset>
                    <input placeholder="Napriklad:Liberika" type="text" tabindex="1">
                </fieldset>
            </div>
        </section>


        <section id="CoffeeMethodBlock" class="BranchCoffee">
            <div class="flex-vertical width-100">
                <h3 class="blockTitle">Kavovy Metod</h3>
                <select id="CoffeeMethodSelect">
                    <option disabled selected value> -- select an option -- </option>
                    <option value="filter">Filter</option>
                    <option value="machine">Stroj</option>
                </select>
            </div>
        </section>

        <section id="CoffeeFilterBlock" class="BranchCoffee">
            <div class="flex-vertical width-100">
                <h3 class="blockTitle">Method Filter</h3>
                <select id="CoffeeFilterSelect">
                    <option disabled selected value> -- select an option -- </option>
                    <option value="brew">Brew Kava</option>
                    <option value="cerstva">Čerstva Kava‎</option>
                </select>
            </div>
        </section>

        <section id="CoffeeStrojBlock" class="BranchCoffee">
            <div class="flex-vertical width-100">
                <h3 class="blockTitle">Method Stroj</h3>
                <select id="CoffeeStrojSelect">
                    <option disabled selected value> -- select an option -- </option>
                    <option value="espresso">Espresso</option>
                    <option value="cappuccino">Cappuccino‎</option>
                </select>
            </div>
        </section>

        <section id="CoffeeBrewBlock" class="BranchCoffee">
            <div class="flex-vertical width-100">
                <h3 class="blockTitle">Chut brew</h3>
                <select id="CoffeeBrewSelect">
                    <option disabled selected value> -- select an option -- </option>
                    <option value="vyprazena">Vyprážané</option>
                    <option value="pikantna‎">Pikantna‎</option>
                </select>
            </div>
        </section>

        <section id="CoffeeCerstvaBlock" class="BranchCoffee">
            <div class="flex-vertical width-100">
                <h3 class="blockTitle">Chut cerstvej</h3>
                <select id="CoffeeCerstvaSelect">
                    <option disabled selected value> -- select an option -- </option>
                    <option value="kysla">Kysla</option>
                    <option value="ovocna">Ovocna</option>
                </select>
            </div>
        </section>

        <section id="CoffeeEspressoBlock" class="BranchCoffee">
            <div class="flex-vertical width-100">
                <h3 class="blockTitle">Chut espresso</h3>
                <select id="CoffeeEspressoSelect">
                    <option disabled selected value> -- select an option -- </option>
                    <option value="zaprasene">Zaprášené</option>
                    <option value="kakao">Kakao‎</option>
                </select>
            </div>
        </section>

        <section id="CoffeeCappuccinoBlock" class="BranchCoffee">
            <div class="flex-vertical width-100">
                <h3 class="blockTitle">Chut cappuccino</h3>
                <select id="CoffeeCappuccinoSelect">
                    <option disabled selected value> -- select an option -- </option>
                    <option value="sladke">Sladké</option>
                    <option value="orech">Orech</option>
                </select>
            </div>
        </section>

    <!-- до сюда все окей -->


<!--     <section id="MethodVyprazenaBlock" class="BranchCoffee">
        <div class="flex-vertical width-100 mt-15">
            <div>
                <select id="vyprazena" name="method">
                    <option value="stiplavy">Štipľavý</option>
                    <option value="spaleny">Spálený</option>
                </select>
            </div>
        </div>
    </section>

    <section id="MethodPikantnaBlock" class="BranchCoffee">
        <div class="flex-vertical width-100 mt-15">
            <div>
                <select id="pikantna‎" name="method">
                    <option value="aniz">Aníz</option>
                    <option value="muskat">Muškát</option>
                </select>
            </div>
        </div>
    </section> -->

    <!-- <section id="MethodFilterBlock" class="BranchCoffee">
        <div class="flex-vertical width-100 mt-15"> -->
            <!-- <div>
                <select id="methodFilter" name="method">
                    <option value="brew">Brew Kava</option>
                    <option value="cerstva‎">Čerstva Kava‎</option>
                </select>
            </div> -->
            <!-- <div>
                <select id="brew" name="method">
                    <option value="vyprazena">Vyprážané</option>
                    <option value="pikantna‎">Pikantna‎</option>
                </select>
            </div>
            <div>
                <select id="cerstva‎" name="method">
                    <option value="kysla">Kysla</option>
                    <option value="ovocna">Ovocna</option>
                </select>
            </div> -->

            <!-- <div>
                <select id="vyprazena" name="method">
                    <option value="stiplavy">Štipľavý</option>
                    <option value="spaleny">Spálený</option>
                </select>
            </div>
            <div>
                <select id="pikantna‎" name="method">
                    <option value="aniz">Aníz</option>
                    <option value="muskat">Muškát</option>
                </select>
            </div> -->

  <!--           <div>
                <select id="kysla" name="method">
                    <option value="kysla_vona">Kyslá vôňa</option>
                    <option value="kyselina">Kyselina maslová</option>
                </select>
            </div>
            <div>
                <select id="ovocna" name="method">
                    <option value="oranzova">Oranžová</option>
                    <option value="‎jablko">Jablko</option>
                </select>
            </div>
        </div>
    </section> -->

   <!--  <section id="MethodMachineBlock" class="BranchCoffee">
        <div class="flex-vertical width-100 mt-15"> -->
            <!-- <div>
                <select id="methodMachine" name="method">
                    <option value="espresso">Espresso</option>
                    <option value="cappucccino‎">Cappuccino‎</option>
                </select>
            </div> -->
           <!--  <div>
                <select id="espresso" name="method">
                    <option value="ine">Ina</option>
                    <option value="kakao">Kakao‎</option>
                </select>
            </div>
            <div>
                <select id="cappucccino‎" name="method">
                    <option value="sladké">Sladké</option>
                    <option value="orech">Orech</option>
                </select>
            </div> -->

  <!--           <div>
                <select id="ine" name="method">
                    <option value="woody">Woody</option>
                    <option value="zaprasene">Zaprášené</option>
                </select>
            </div>
            <div>
                <select id="kakao‎" name="method">
                    <option value="tm_cokolada">Tmavá čokoláda</option>
                    <option value="cokolada">Čokoláda</option>
                </select>
            </div>

             <div>
                <select id="sladke" name="method">
                    <option value="karamel">Karamel</option>
                    <option value="vanil">Vanilka</option>
                </select>
            </div>
            <div>
                <select id="orech" name="method">
                    <option value="mandle">Mandle</option>
                    <option value="arasidy">Arašidy</option>
                </select>
            </div>
        </div>
    </section> -->

<!--    <section id="methodAnother" class="BranchCoffee">-->
<!--        <div class="text_pole">-->
<!--            <fieldset>-->
<!--                <input id="methodAnother" placeholder="Tvoja odpoved" type="text" tabindex="1">-->
<!--            </fieldset>-->
<!--        </div>-->
<!--    </section>-->



            <fieldset>
              <button id="submitForm" name="submit" type="submit">Poslat</button>
            </fieldset>
        </div>
        </form>
    </div>
</div>
<script>
function $(id){
    if( id.startsWith('#') )
        return document.getElementById(id.substring(1));
    return document.querySelectorAll(id)
}



function changeCoffeeState() {
   if (this.checked && this.id === 'coffeeYes'){
       $("#CoffeeNoBlock").style.display = 'none';
       $("#CoffeeYesBlock").style.display = 'flex';
   }else{
       $("#CoffeeNoBlock").style.display = 'flex';
       $("#CoffeeYesBlock").style.display = 'none';
   }
}
$("#coffeeYes").onchange = changeCoffeeState
$("#coffeeNo").onchange = changeCoffeeState


function changeCoffeeTypeState(){
    if(this.checked && (this.value === "arabika" || this.value === "robusta")){
        $("#CoffeeMethodBlock").style.display = 'flex';
        $("#CoffeeInaBlock").style.display = 'none';
    }else if(this.checked && this.value === "ina"){
        $("#CoffeeMethodBlock").style.display = 'flex';
        $("#CoffeeInaBlock").style.display = 'flex';
    }else{
        $("#CoffeeMethodBlock").style.display = 'none';
        $("#CoffeeInaBlock").style.display = 'none';
    }
}

$("#coffeeTypeArabika").onchange = changeCoffeeTypeState
$("#coffeeTypeRobusta").onchange = changeCoffeeTypeState
$("#coffeeTypeIna").onchange = changeCoffeeTypeState



function coffeeMethodChange(){
    if(this.value === "filter"){
        $("#CoffeeFilterBlock").style.display = 'flex';
        $("#CoffeeStrojBlock").style.display = 'none';
    }else{
        $("#CoffeeFilterBlock").style.display = 'none';
        $("#CoffeeStrojBlock").style.display = 'flex';
    }
    
}
$("#CoffeeMethodSelect").onchange = coffeeMethodChange


function coffeeFilterChange(){
    if(this.value === "brew"){
        $("#CoffeeBrewBlock").style.display = 'flex';
        $("#CoffeeCerstvaBlock").style.display = 'none';
        $("#CoffeeEspressoBlock").style.display = 'none';
        $("#CoffeeCappuccinoBlock").style.display = 'none';
    }else{
        $("#CoffeeBrewBlock").style.display = 'none';
        $("#CoffeeCerstvaBlock").style.display = 'flex';
        $("#CoffeeEspressoBlock").style.display = 'none';
        $("#CoffeeCappuccinoBlock").style.display = 'none';
    }
    
}
$("#CoffeeFilterSelect").onchange = coffeeFilterChange



function coffeeStrojChange(){
    if(this.value === "espresso"){
        $("#CoffeeEspressoBlock").style.display = 'flex';
        $("#CoffeeCappuccinoBlock").style.display = 'none';
        $("#CoffeeBrewBlock").style.display = 'none';
        $("#CoffeeCerstvaBlock").style.display = 'none';
    }else{
        $("#CoffeeEspressoBlock").style.display = 'none';
        $("#CoffeeCappuccinoBlock").style.display = 'flex';
        $("#CoffeeBrewBlock").style.display = 'none';
        $("#CoffeeCerstvaBlock").style.display = 'none';
    }
    
}
$("#CoffeeStrojSelect").onchange = coffeeStrojChange


// CoffeeBrewBlock
// CoffeeEspressoBlock


// function coffeeBrewChange(){
//     if(this.value === "vyprazena"){
//         $("#MethodBrewBlock").style.display = 'flex';
//         // $("#MethodMachineBlock").style.display = 'none';
//     }else{
//         // $("#MethodBrewBlock").style.display = 'none';
//         $("#MethodMachineBlock").style.display = 'none';
//     }
    
// }
// $("#CoffeeBrewSelect").onchange = coffeeBrewChange

// function coffeeBrew2Change(){
//     if(this.value === "pikantna‎"){
//         $("#MethodBrew2Block").style.display = 'flex';
//         // $("#MethodMachineBlock").style.display = 'none';
//     }else{
//         // $("#MethodBrew2Block").style.display = 'none';
//         $("#MethodMachineBlock").style.display = 'none';
//     }
    
// }
// $("#CoffeeBrew2Select").onchange = coffeeBrew2Change

// function coffeeCerstvaChange(){
//     if(this.value === "kysla"){
//         $("#MethodFilterBlock").style.display = 'flex';
//         $("#MethodMachineBlock").style.display = 'none';
//     }else{
//         $("#MethodFilterBlock").style.display = 'none';
//         $("#MethodMachineBlock").style.display = 'flex';
//     }
    
// }
// $("#CoffeeCerstvaSelect").onchange = coffeeCerstvaChange

// function coffeeEspressoChange(){
//     if(this.value === "zaprasene"){
//         $("#MethodFilterBlock").style.display = 'flex';
//         $("#MethodMachineBlock").style.display = 'none';
//     }else{
//         $("#MethodFilterBlock").style.display = 'none';
//         $("#MethodMachineBlock").style.display = 'flex';
//     }
    
// }
// $("#CoffeeEspressoSelect").onchange = coffeeEspressoChange


// function coffeeCappuccinoChange(){
//     if(this.value === "sladke"){
//         $("#MethodFilterBlock").style.display = 'flex';
//         $("#MethodMachineBlock").style.display = 'none';
//     }else{
//         $("#MethodFilterBlock").style.display = 'none';
//         $("#MethodMachineBlock").style.display = 'flex';
//     }
    
// }
// $("#CoffeeCappuccinoSelect").onchange = coffeeCappuccinoChange



//
function timeConverter(UNIX_timestamp){
  var a = new Date(UNIX_timestamp);
  var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
  var year = a.getFullYear();
  var month = months[a.getMonth()];
  var date = a.getDate();
  // var hour = a.getHours();
  // var min = a.getMinutes();
  // var sec = a.getSeconds();
  var time = date + ' ' + month + ' ' + year + ' ' + hour + ':' + min + ':' + sec ;
  return time;
}

function year2sec(y){
    return y * 365 * 24 * 60 * 60
}

function validateRequired(){
    const firstName = $("#inputMeno")
    const lastName = $("#inputLastName")
    const email = $("#inputEmail")
    const date = $("#inputDate")
    const vek = $("#vek")
    const invalidateClass = "invalidateField"

    console.log('= = = = = = = = = = = = = = = = = = = = = ')
    console.log('= = = = = = = = = = = = = = = = = = = = = ')
    console.log("firstName.value", firstName.value)
    if(firstName.value.length < 3){
        if( !firstName.className.includes(invalidateClass) )
            firstName.className += invalidateClass;
    }else{
        firstName.className = firstName.className.replace(invalidateClass, '')
    }

    console.log('= = = = = = = = = = = = = = = = = = = = = ')
    console.log('= = = = = = = = = = = = = = = = = = = = = ')
    console.log("lastName.value", lastName.value)
    if(lastName.value.length < 3){
        if( !lastName.className.includes(invalidateClass) )
            lastName.className += invalidateClass;
    }else{
        lastName.className = lastName.className.replace(invalidateClass, '')
    }

    console.log('= = = = = = = = = = = = = = = = = = = = = ')
    console.log('= = = = = = = = = = = = = = = = = = = = = ')
    console.log("email", email.value)
    const emailRe = new RegExp("^[a-z0-9._%+-]{3,}@[a-z]{1,}([.]{1}[a-z]{2,4}|[.]{1}[a-z]{2,4}[.]{1}[a-z]{2,4})$")
    if(!emailRe.test(email.value)){
        if( !email.className.includes(invalidateClass) )
            email.className += invalidateClass;
    }else{
        email.className = email.className.replace(invalidateClass, '')
    }

    console.log('= = = = = = = = = = = = = = = = = = = = = ')
    console.log('= = = = = = = = = = = = = = = = = = = = = ')
    console.log("date", date.value)
    if(!date.value){
        if( !date.className.includes(invalidateClass) )
            date.className += invalidateClass;
    }else{
        const dateBirthTimeStamp = new Date(date.value).getTime()
        const now = Date.now()
        const userFullYears = Math.floor((now - dateBirthTimeStamp)/1000/(60*60*24*365))
        console.log("userFullYears: ", userFullYears)
        console.log("vek.value: ", vek.value)
        if( userFullYears === Number(vek.value)  ){
            date.className = date.className.replace(invalidateClass, '')
        }else{
            if( !date.className.includes(invalidateClass) )
                date.className += invalidateClass;
        }


    }

}

$("#submitForm").onclick = validateRequired
$("#inputMeno").onchange = validateRequired
$("#inputLastName").onchange = validateRequired
$("#inputEmail").onchange = validateRequired
$("#inputDate").onchange = validateRequired
$("#vek").onchange = validateRequired

</script>
<footer class="cantered-horizontal foot">
    <p>©2019 by Tetiana Kukhelna. Fakulta elektrotechniky a informatiky Slovenskej technickej univerzity v Bratislave.</p>
</footer>
</body>
</html>